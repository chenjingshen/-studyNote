<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- 1. 导入css -->
    <link rel="stylesheet" href="./css/jquery.fullpage.min.css">
    <link rel="stylesheet" href="./css/index2.css">

    <!-- 2. 导入js文件 -->
    <script src="./lib/jquery-1.8.3.min.js"></script>
    <script src="./lib/jquery.fullpage.min.js"></script>

    <!-- 4. 调用fullpage插件 -->
    <script>
        $(function() {
            $("#fullpage").fullpage({
                navigation: true,
                sectionsColor: ["#00bfff", "#9acd32", "#ffa500", "#008000", "#87ceeb"],
                // index从1开始
                afterLoad: function(anchorlink, index) {
                    // 先把其它屏的动画移除掉(css)
                    $(".section").removeClass("animation");
                    // removeAttr("style"):移除第四屏的js动画
                    // stop: 中止动画
                    $(".section4 div, .section4 img").removeAttr("style").stop();
                
                    if (index != 4) {
                        //给当前屏添加动画
                        $(".section").eq(index-1).addClass("animation");
                    } else {
                        //使用jquery来添加第四屏的动画, jquery实现动画是非常方便的，只需要指定元素的结束位置
                        $(".section4 .searchbar").animate({"left":0}, 1000, function() {
                            $(".section4 .words").animate({"opacity":1}, 300, function() {
                                $(this).animate({"width": 99}, 1000, function() {
                                    $(".section4 .result").animate({"height": 372}, 1000);
                                })
                            });
                        });
                    }
                }
            });
        })
    </script>
</head>
<body>
    <!-- 3. 写主体结构 -->
    <div id="fullpage">
        <div class="section section1">
            <img src="./images/logo.png" alt="">
            <div class="words">
                <!-- img[src="./images/text_$@1.png"]*8 -->
                <img src="./images/text_1.png" alt="">
                <img src="./images/text_2.png" alt="">
                <img src="./images/text_3.png" alt="">
                <img src="./images/text_4.png" alt="">
                <img src="./images/text_5.png" alt="">
                <img src="./images/text_6.png" alt="">
                <img src="./images/text_7.png" alt="">
                <img src="./images/text_8.png" alt="">
            </div>
            <img src="./images/info_1.png" alt="">
        </div>
        <div class="section section2">
            <div class="left">
                <img src="./images/shield_1.png" alt="">
                <img src="./images/shield_2.png" alt="">
                <img src="./images/shield_3.png" alt="">
                <img src="./images/shield_4.png" alt="">
                <img src="./images/shield_5.png" alt="">
                <img src="./images/shield_6.png" alt="">
                <img src="./images/shield_7.png" alt="">
                <img src="./images/shield_8.png" alt="">
                <img src="./images/shield_9.png" alt="">
            </div>

            <img src="./images/info_2.png" alt="">
        </div>
        <div class="section section3">
            <img src="./images/info_3.png" alt="">
            <div class="right">
                <img src="./images/rocket.png" class="rocket" alt="">
            </div>
        </div>
        <div class="section section4 active">
            <div class="left">
                <div class="searchbar">
                    <div class="words"></div>
                </div>
                <div class="result"></div>
            </div>
            <img src="./images/info_4.png" alt="">
        </div>
        <div class="section section5">
            <img src="./images/info_5.png" class="info" alt="">
            <div class="bottom"></div>
        </div>
    </div>
</body>
</html>